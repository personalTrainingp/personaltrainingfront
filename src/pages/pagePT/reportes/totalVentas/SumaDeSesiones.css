/* ================== Tabla sesiones (vars + base) ================== */
.tabla-sesiones {
  --accent-red: red;
  --text-red: #c00000;
  border-collapse: collapse;
}
.tabla-sesiones th,
.tabla-sesiones td {
  border: 1px solid #000 !important;
  box-sizing: border-box;
}

.tabla-sesiones :is(th.triptych-head, td.triptych) {
  position: relative;
  overflow: visible;
  width: 90px; min-width: 90px; max-width: 100px;
  padding: 0;
}
.tabla-sesiones th.triptych-head { height: 45px; }
.tabla-sesiones th.triptych-head > .tri-box-head,
.tabla-sesiones td.triptych > .tri-box {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  height: 100%;
  background: #fff;
}

.tabla-sesiones thead th.triptych-head > .tri-box-head {
  background: #c00000 !important;
}

.tabla-sesiones thead th.triptych-head .miniTitle {
  color: #fff !important;
}

.tabla-sesiones th.triptych-head > .tri-box-head > div {
  display: flex; align-items: center; justify-content: center;
}
.miniTitle{ color:#fff; font-weight:800; font-size:15px; letter-spacing:.3px; margin:0; }

/* subdivisiones internas del triptych */
.tabla-sesiones :is( td.triptych)::before,
.tabla-sesiones :is( td.triptych)::after {
  content:""; position:absolute; top:-1px; bottom:-1px; width:1px; background:#000; pointer-events:none; z-index:5;
}
.tabla-sesiones :is(th.triptych-head, td.triptych)::before { left: calc(33.3333% - .5px); }
.tabla-sesiones :is(th.triptych-head, td.triptych)::after  { left: calc(66.6667% - .5px); }

/* límites de cada programa */
.tabla-sesiones :is(th.program-start, td.program-start){ border-left: 2px solid var(--accent-red) !important; }
.tabla-sesiones :is(th.program-end,   td.program-end)  { border-right:2px solid var(--accent-red) !important; }

/* bordes rojos externos e inferiores de header */
.tabla-sesiones :is(thead th:first-child, tbody td:first-child){ border-left: 2px solid var(--accent-red) !important; }
.tabla-sesiones :is(thead th:last-child,  tbody td:last-child) { border-right:2px solid var(--accent-red) !important; }
.tabla-sesiones thead tr:last-child th { border-bottom: 2px solid var(--accent-red) !important; }
.tabla-sesiones thead tr:not(:last-child) th,
.tabla-sesiones thead tr + tr th { border-bottom: none !important; border-top: none !important; }

/* ================== Columna imagen + nombre ================== */
.tabla-sesiones td.img-with-name{
  border:2px solid var(--accent-red) !important; width:110px; background:#fff; vertical-align: middle;
}
.tabla-sesiones td.img-with-name .img-cap{
  position:relative; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:.5rem; padding:.25rem 0;
}
.tabla-sesiones td.img-with-name .img-cap img{
  width:80px; height:100px; border-radius:10px; object-fit:cover; background:#f3f3f3;
}
.tabla-sesiones td.img-with-name .img-cap .cap{ font-weight:800; font-size:20px; text-align:center; }
.tabla-sesiones td.img-with-name .img-cap.only-text .cap,
.tabla-sesiones td.img-with-name.only-text .cap{
  font-size:22px; line-height:3.1; padding:8px 4px; white-space:normal!important; word-break:break-word!important; text-align:center; font-weight:800;
}

/* trofeo */
.tabla-sesiones .copa-champions{ position:absolute; top:5px; left:-10px; z-index:3; }
.tabla-sesiones .copa-champions img{ width:70px; height:auto; filter:brightness(1.1) contrast(1.3) drop-shadow(0 2px 3px rgba(0,0,0,.4)); mix-blend-mode:darken; }

.tabla-sesiones td.triptych > .tri-box > div p{
  font-weight:400; font-size:17px; margin:0; padding:2px 0;
}


.tabla-sesiones.table > :not(caption) > * > *.fw-bold{ color: var(--text-red) !important; }
.tabla-sesiones.table > tbody > tr.fila-total > td:not(.img-with-name){
  color: var(--text-red) !important; font-weight:800;
}
/* fila secundaria: primera celda en negro invertido */
.tabla-sesiones tbody tr.fila-secundaria td.img-with-name{ background:#c00000 !important; color:#fff !important; }
.tabla-sesiones tbody tr.fila-secundaria td.img-with-name .cap{ color:#fff !important; }

/* banda roja superior/inf. de fila TOTAL */
.tabla-sesiones tbody tr.fila-total{
  position:relative;
  box-shadow: inset 0 2px 0 var(--accent-red), inset 0 -2px 0 var(--accent-red);
}


.tabla-sesiones thead tr > th:nth-last-of-type(2),
.tabla-sesiones tbody tr > td:nth-last-of-type(2) {
  border-left: 2px solid red !important;
  border-right: 2px solid red !important;
}
.tabla-sesiones :is(thead tr > th:nth-child(1),
                   
                    thead tr > th:nth-child(6),
                    thead tr > th:nth-child(7),
                    thead tr > th:nth-child(8),
                    ) {
  background: #c00000 !important;
  color: #fff !important;
}
/* Fila secundaria compacta */
.fila-secundaria.compact td,
.fila-secundaria.compact td * {
  font-size: 18px !important;
  line-height: 1.1 !important;
}

.fila-secundaria.compact td {
  padding: 14px 16px !important;
}

/* Título de la primera celda */
.fila-secundaria.compact .img-with-name .img-cap {
  padding: 0 !important;
}
.fila-secundaria.compact .img-with-name .cap {
  font-size: 18px !important;
  line-height: 1.5 !important;
  margin: 0 !important;
}

/* Triptych más apretado */
.fila-secundaria.compact .triptych {
  padding: 0 !important;
}
.fila-secundaria.compact .tri-box {
  display: grid !important;
  grid-template-columns: repeat(3, 1fr) !important;
  gap: 2px !important;
}
.fila-secundaria.compact .tri-box > div {
  padding: 0 !important;
}
.fila-secundaria.compact .tri-box p {
  margin: 0 !important;
  font-size: 19px !important;
  line-height: 1 !important;
}


/*OTRA VISTA*/

/* avatar-col: sin subdivisiones */
.tabla-sesiones th.avatar-col::before,
.tabla-sesiones th.avatar-col::after{ display:none !important; }

/* ================== Ranking (scopeado) ================== */
.ranking-card .rank-avatar{ position:relative; display:inline-flex; align-items:center; justify-content:center; width:140px; height:100px; overflow:hidden; }
.ranking-card .rank-avatar .avatar{ width:90px; height:90px; object-fit:cover; border-radius:8px; background:#f3f3f3; }
.ranking-card .copa-champions{ position:absolute; top:5px; left:-10px; z-index:3; }
.ranking-card .copa-champions img{ width:65px; height:75px; filter:brightness(1.1) contrast(1.3) drop-shadow(0 2px 3px rgba(0,0,0,.4)); mix-blend-mode:darken; }
.ranking-card .table-centered :is(thead th:nth-child(2), tbody td:nth-child(2)){ width:160px; }
.ranking-card .rank-img-cell{ width:170px; min-width:170px; padding:8px 12px; vertical-align:middle; }
.ranking-card .rank-img-cell .img-cap{ position:relative; display:flex; align-items:center; justify-content:center; gap:.5rem; height:110px; }
.ranking-card .rank-img-cell .avatar{ width:90px; height:110px; border-radius:10px; object-fit:cover; background:#f3f3f3; }

/* util */
.tabla-sesiones .is-bold{ font-weight:800; }
